@page "/settings/wealth"
@layout SettingsLayout
@inherits SidekickView
<div class="pa-3">
    <MudCard>
        <MudCardContent>
            <MudAlert Severity="Severity.Warning" Elevation="5">Wealth Tracker is an experimental feature and requires special privileges.</MudAlert>
            <MudAlert Severity="Severity.Info" Elevation="5">
                <MudText Typo="Typo.body2">
                    Sidekick is register with GGG to use the Path Of Exile API and utilizes Oath2 Authorization Code Grant with Proof Key of Code Exchange to securely access the players account details.
                    <MudLink Href="https://www.pathofexile.com/developer/docs/authorization">https://www.pathofexile.com/developer/docs/authorization</MudLink>
                </MudText>
            </MudAlert>
            <MudPaper Class="pa-16 ma-2" Outlined="true">
            <MudText Typo="Typo.body1">
                The Sidekick Wealth Tracker is meant to help players track their overall wealth over time. In order to
                to achieve this Sidekick requires access to the player's account stash data. When Wealth Tracker is enabled, Sidekick will take the following steps
                to gain secure access to the players account stash data.

                <MudList>
                    <MudListItem Text="Sidekick will launch a console window that requests Administrative Access. This is to register the custom protocol Sidekick:// on the players system. Sidekick uses this to securely receive Oauth data from GGG." Icon="@Icons.Material.Filled.Bookmark" IconColor="Color.Primary" />
                    <MudListItem Text="Sidekick will launch a browser window to 'https://www.pathofexile.com/oauth/authorize'. The player will be asked to Authorize Sidekick and GGG will provide the players details to Sidekick required to read the players account stash data." Icon="@Icons.Material.Filled.Bookmark" IconColor="Color.Primary" />
                    <MudListItem Text="Sidekick will cache the authentication details required to access the players account stash data until they are expired by GGG." Icon="@Icons.Material.Filled.Bookmark" IconColor="Color.Primary" />
                    <MudListItem Text="Sidekick will automatically repeat step two in order to reauthenticate when the authentication details expire every 8 hours." Icon="@Icons.Material.Filled.Bookmark" IconColor="Color.Primary" />
                </MudList>
            </MudText>
            </MudPaper>
        </MudCardContent>
        <MudCardActions>
            <MudButton Variant="Variant.Filled" Color="Color.Primary">Enable Wealth Tracker</MudButton>
        </MudCardActions>
    </MudCard>
</div>

@code {
    [Inject] private SettingsResources Resources { get; set; }
    [Inject] private SettingsModel ViewModel { get; set; }

    public override string Title => Resources.Title;
}
