<MudSelect T="string?"
           Label="@Resources.Language_Parser"
           Variant="Variant.Filled"
           Value="Value"
           ValueChanged="ValueChanged"
           Required="true"
           RequiredError="Language is required.">
    @foreach (var option in Options)
    {
        <MudSelectItem Value="@option.Key">@option.Value</MudSelectItem>
    }
</MudSelect>

@inject SettingsResources Resources
@inject IGameLanguageProvider GameLanguageProvider

@code {

    [Parameter]
    public string? Value { get; set; }

    [Parameter]
    public EventCallback<string?> ValueChanged { get; set; }

    private Dictionary<string, string> Options { get; set; } = new Dictionary<string, string>();

    protected override async Task OnInitializedAsync()
    {
        var languages = GameLanguageProvider.GetList();
        Options = languages.ToDictionary(x => x.LanguageCode, x => x.Name);

        await base.OnInitializedAsync();
    }

}
