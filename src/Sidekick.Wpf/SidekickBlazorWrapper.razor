@using Sidekick.Wpf.Services;

<Sidekick.Common.Blazor.Main />

@code {
    [Inject]
    private NavigationManager NavigationManager { get; set; } = null!;

    [Inject]
    private WpfViewLocator ViewLocator { get; set; } = null!;

    protected override Task OnInitializedAsync()
    {
        if (!string.IsNullOrEmpty(ViewLocator.NextUrl))
        {
            NavigationManager.NavigateTo(ViewLocator.NextUrl, true);
            ViewLocator.NextUrl = null;
        }

        return base.OnInitializedAsync();
    }
}
